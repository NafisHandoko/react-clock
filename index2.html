<!-- Display the countdown timer in an element -->
<button id="session-increment" onclick="plusTime()">Tambah</button>
<div id="time-left">25:00</div>

<script>
  const timeout = (milliseconds) => new Promise((resolve) => setTimeout(resolve, milliseconds));
  var time = 25

  function plusTime(){
    time = time+1
    console.log(time)
    document.getElementById('time-left').innerText = `${time}:00`
  }

  function getElements(elementIds) {
    return elementIds.map((elementId) => document.getElementById(elementId));
  }


  function clickButtonsById(buttonIds) {
    const keys = getElements(buttonIds);
    keys.forEach((key) => {
      if (key && typeof key.click === 'function') {
        key.click();
      }
    });
  }

  const seshPlus = 'session-increment';

  // The regex checks for correct time format ([mm]mm:ss)
  const timerRe = new RegExp(/^(\d{2,4})[\.:,\/](\d{2})$/);

  function getMinutes(str) {
    return timerRe.exec(str)[1];
  }

  async function test() {
    const target = document.getElementById('time-left');
    // assert.isNotNull(target);
    console.assert(target!=null)
    // assert.strictEqual(
    //   getMinutes(target.innerText),
    //   '25',
    //   'time-left is not formatted correctly'
    // );
    console.assert(getMinutes(target.innerText)=='25','time-left is not formatted correctly')
    // console.assert(target.innerText==25,'time-left is not formatted correctly')
    // Set session length to 60
    clickButtonsById(Array(35).fill(seshPlus));
    // wait for 1.5 seconds to allow any re-renders to catch up
    await timeout(1500);
    // assert.strictEqual(
    //   getMinutes(target.innerText),
    //   '60',
    //   'time-left is not formatted correctly'
    // );
    console.assert(getMinutes(target.innerText),'60','time-left is not formatted correctly')
    // console.assert(target.innerText==60, 'time-left is not formatted correctly')
  }

  test()
</script>